preproc = function(data){
  data[,`:=`(# variables at below added on 24 July
             # bureau
             Add_DIFF_SUM_DEBT_CREDIT_BURUEA = AMT_CREDIT_SUM_DEBT_SUM - AMT_CREDIT_SUM_SUM,
             # Add_RATIO_SUM_OVERDUE_DEBT_BURUEA = AMT_CREDIT_SUM_OVERDUE_SUM / AMT_CREDIT_SUM_DEBT_SUM,# RATIO generate Inf/-Inf when AMT_CREDIT_SUM_DEBT_SUM = 0
             # POS_CASH
             Add_DIFF_MEAN_INSTALMENT_FUTURE = CNT_INSTALMENT_MEAN - CNT_INSTALMENT_FUTURE_MEAN,
             # previous application
             Add_RATIO_MEAN_PAYMENT_PREV = AMT_ANNUITY_PREV_MEAN / AMT_CREDIT_MEAN,
             Add_DIFF_MEAN_CREDIT_RECEIVED_ASKED_PREV = AMT_CREDIT_MEAN - AMT_APPLICATION_MEAN,
             Add_DIFF_MEAN_CREDIT_ASKED_GOODS_PRICE_PREV = AMT_APPLICATION_MEAN - AMT_GOODS_PRICE_MEAN,
             Add_DIFF_MEAN_CREDIT_RECEIVED_GOODS_PRICE_PREV = AMT_CREDIT_MEAN - AMT_GOODS_PRICE_MEAN,
             Add_DIFF_MEAN_DAYS_LAST_DUE_PREV = DAYS_LAST_DUE_1ST_VERSION_MEAN - DAYS_LAST_DUE_MEAN, 
             # credit card
             Add_DIFF_MEAN_BALANCE_LIMIT_CARD = AMT_BALANCE_MEAN - AMT_CREDIT_LIMIT_ACTUAL_MEAN, 
             Add_DIFF_MEAN_PAYMENT_INST_MIN_CARD = AMT_PAYMENT_CURRENT_MEAN - AMT_INST_MIN_REGULARITY_MEAN, # AMT_PAYMENT_TOTAL_CURRENT_MEAN?
             Add_DIFF_MEAN_PAYMENT_DRAWINGS_CARD = AMT_PAYMENT_CURRENT_MEAN - AMT_DRAWINGS_CURRENT_MEAN,
             Add_DIFF_MEAN_PAYMENT_RECEIVABLE_CARD = AMT_PAYMENT_CURRENT_MEAN - AMT_RECIVABLE_MEAN # AMT_TOTAL_RECEIVABLE_MEAN?
             ), by = "SK_ID_CURR"]
}